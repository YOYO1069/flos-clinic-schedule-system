# FLOS è¨ºæ‰€ç³»çµ± - æ¬Šé™è¨­è¨ˆæ–‡ä»¶

## ğŸ‘¥ ä½¿ç”¨è€…å±¤ç´š

### ğŸ”´ ç®¡ç†å“¡ (Admin) - 1ä½
**å¸³è™Ÿ**: é»ƒæŸç¿° (ADMIN-HBH012)

**å®Œæ•´æ¬Šé™:**
- âœ… æŸ¥çœ‹æ‰€æœ‰åŠŸèƒ½å’Œè³‡æ–™
- âœ… ç®¡ç†æ‰€æœ‰ä½¿ç”¨è€…å¸³è™Ÿ
- âœ… æŸ¥çœ‹å’Œä¿®æ”¹æ‰€æœ‰å¯†ç¢¼
- âœ… ç³»çµ±è¨­å®šå’Œé…ç½®
- âœ… ç¨ç«‹å°ˆå±¬å„€è¡¨æ¿
- âœ… å‘ä¸Šç®¡ç†åŠŸèƒ½
- âœ… å¯©æ ¸æ‰€æœ‰ç”³è«‹
- âœ… åŒ¯å‡ºæ‰€æœ‰å ±è¡¨
- âœ… æ¥­ç¸¾æ’åæŸ¥çœ‹
- âœ… è²¡å‹™äº¤æ˜“å ±è¡¨

---

### ğŸŸ  é«˜éšä¸»ç®¡ (Senior Supervisor) - 2ä½
**å¸³è™Ÿ**: 
- åŠ‰é“ç„ (SUPER-LDX011)
- é¾æ›œä»» (SUPER-ZYR016)

**æ¬Šé™ç¯„åœ:**
- âœ… å¯©æ ¸æ‰“å¡å‡ºå‹¤
- âœ… å¯©æ ¸è«‹å‡ç”³è«‹
- âœ… æŸ¥çœ‹å¾Œå°å¤§éƒ¨åˆ†åŠŸèƒ½
- âœ… æ¥­ç¸¾æ’åæŸ¥çœ‹
- âœ… ä¿®æ”¹è‡ªå·±å¯†ç¢¼
- âœ… é†«å¸«æ’ç­ç®¡ç†
- âœ… å“¡å·¥æ’ç­ç®¡ç†
- âœ… åŒ¯å‡ºå ±è¡¨
- âœ… è²¡å‹™äº¤æ˜“å ±è¡¨
- âŒ æŸ¥çœ‹æ‰€æœ‰å¯†ç¢¼
- âŒ ä¿®æ”¹å…¶ä»–äººå¯†ç¢¼
- âŒ ç¨ç«‹å°ˆå±¬å„€è¡¨æ¿
- âŒ å‘ä¸Šç®¡ç†åŠŸèƒ½

---

### ğŸŸ¡ ä¸€èˆ¬ä¸»ç®¡ (Supervisor) - 2ä½
**å¸³è™Ÿ**:
- è¬æ™´ (SUPER-WQ001)
- é™³éŸ»å®‰ (SUPER-CYA002)

**æ¬Šé™ç¯„åœ:**
- âœ… å¯©æ ¸æ‰“å¡å‡ºå‹¤
- âœ… å¯©æ ¸è«‹å‡ç”³è«‹
- âœ… é†«å¸«æ’ç­ç®¡ç†
- âœ… å“¡å·¥æ’ç­ç®¡ç†
- âœ… åŒ¯å‡ºå ±è¡¨
- âœ… è²¡å‹™äº¤æ˜“å ±è¡¨
- âœ… ä¿®æ”¹è‡ªå·±å¯†ç¢¼
- âŒ æ¥­ç¸¾æ’åæŸ¥çœ‹
- âŒ æŸ¥çœ‹å…¶ä»–äººå¯†ç¢¼
- âŒ ç³»çµ±è¨­å®š

---

### ğŸŸ¢ å“¡å·¥ (Staff) - 11ä½
**å¸³è™Ÿ**:
- åŠ‰å“²è»’ (STAFF-LZX003) - è­·ç†å¸«
- ææ–‡è¯ (STAFF-LWH004) - ç¾å®¹å¸«
- å¼µè€¿é½Š (STAFF-ZGQ005) - ç¾å®¹å¸«
- æ´ªæšç¨‹ (STAFF-HYC006) - ç¾å®¹å¸«
- è¬éµç¿§ (STAFF-XHY007) - è­·ç†å¸«
- ç‹ç­‘å¥ (STAFF-WZJ008) - ç¾å®¹å¸«
- ç±³ç±³ (STAFF-MM009) - å“¡å·¥
- èŠ± (STAFF-H010) - å“¡å·¥
- å‘¨ç¨šå‡± (STAFF-ZZK013) - ç¾å®¹å¸«
- éƒ­éƒæ‰¿ (STAFF-GYC014) - ç¾å®¹å¸«
- é™³æ€¡å®‰ (STAFF-CYA015) - ç¾å®¹å¸«

**æ¬Šé™ç¯„åœ:**
- âœ… å“¡å·¥æ‰“å¡
- âœ… æŸ¥çœ‹è‡ªå·±çš„å‡ºå‹¤è¨˜éŒ„
- âœ… è«‹å‡ç”³è«‹
- âœ… ä¿®æ”¹è‡ªå·±å¯†ç¢¼
- âœ… æŸ¥çœ‹å€‹äººæ¥­ç¸¾
- âŒ æŸ¥çœ‹å…¶ä»–äººè³‡æ–™
- âŒ å¯©æ ¸åŠŸèƒ½
- âŒ åŒ¯å‡ºå ±è¡¨
- âŒ æ’ç­ç®¡ç†

---

## ğŸ“Š åŠŸèƒ½æ¬Šé™å°ç…§è¡¨

| åŠŸèƒ½ | ç®¡ç†å“¡ | é«˜éšä¸»ç®¡ | ä¸€èˆ¬ä¸»ç®¡ | å“¡å·¥ |
|------|--------|---------|---------|------|
| **ç™»å…¥ç³»çµ±** | âœ… | âœ… | âœ… | âœ… |
| **ä¿®æ”¹è‡ªå·±å¯†ç¢¼** | âœ… | âœ… | âœ… | âœ… |
| **å“¡å·¥æ‰“å¡** | âœ… | âœ… | âœ… | âœ… |
| **æŸ¥çœ‹è‡ªå·±å‡ºå‹¤** | âœ… | âœ… | âœ… | âœ… |
| **è«‹å‡ç”³è«‹** | âœ… | âœ… | âœ… | âœ… |
| **æŸ¥çœ‹å€‹äººæ¥­ç¸¾** | âœ… | âœ… | âœ… | âœ… |
| | | | | |
| **å¯©æ ¸æ‰“å¡** | âœ… | âœ… | âœ… | âŒ |
| **å¯©æ ¸è«‹å‡** | âœ… | âœ… | âœ… | âŒ |
| **é†«å¸«æ’ç­ç®¡ç†** | âœ… | âœ… | âœ… | âŒ |
| **å“¡å·¥æ’ç­ç®¡ç†** | âœ… | âœ… | âœ… | âŒ |
| **åŒ¯å‡ºå ±è¡¨** | âœ… | âœ… | âœ… | âŒ |
| **è²¡å‹™äº¤æ˜“å ±è¡¨** | âœ… | âœ… | âœ… | âŒ |
| | | | | |
| **æ¥­ç¸¾æ’åæŸ¥çœ‹** | âœ… | âœ… | âŒ | âŒ |
| **æŸ¥çœ‹æ‰€æœ‰å‡ºå‹¤** | âœ… | âœ… | âŒ | âŒ |
| | | | | |
| **æŸ¥çœ‹æ‰€æœ‰å¯†ç¢¼** | âœ… | âŒ | âŒ | âŒ |
| **ä¿®æ”¹å…¶ä»–äººå¯†ç¢¼** | âœ… | âŒ | âŒ | âŒ |
| **ç®¡ç†ä½¿ç”¨è€…å¸³è™Ÿ** | âœ… | âŒ | âŒ | âŒ |
| **ç³»çµ±è¨­å®š** | âœ… | âŒ | âŒ | âŒ |
| **ç¨ç«‹å°ˆå±¬å„€è¡¨æ¿** | âœ… | âŒ | âŒ | âŒ |
| **å‘ä¸Šç®¡ç†åŠŸèƒ½** | âœ… | âŒ | âŒ | âŒ |

---

## ğŸ” æ¬Šé™å¯¦ä½œæ–¹å¼

### 1. å¾Œç«¯æ¬Šé™æª¢æŸ¥

```typescript
// æ¬Šé™æª¢æŸ¥ä¸­ä»‹å±¤
function checkPermission(requiredRole: string[]) {
  return (req, res, next) => {
    const user = req.user; // å¾ session æˆ– JWT å–å¾—
    
    if (!user) {
      return res.status(401).json({ error: 'æœªç™»å…¥' });
    }
    
    if (!requiredRole.includes(user.role)) {
      return res.status(403).json({ error: 'æ¬Šé™ä¸è¶³' });
    }
    
    next();
  };
}

// ä½¿ç”¨ç¯„ä¾‹
app.get('/api/admin/users', 
  checkPermission(['admin']), 
  getAllUsers
);

app.get('/api/attendance/approve', 
  checkPermission(['admin', 'senior_supervisor', 'supervisor']), 
  approveAttendance
);

app.get('/api/performance/ranking', 
  checkPermission(['admin', 'senior_supervisor']), 
  getPerformanceRanking
);
```

### 2. å‰ç«¯æ¬Šé™æ§åˆ¶

```typescript
// æ¬Šé™æª¢æŸ¥ Hook
function usePermission() {
  const user = useUser();
  
  return {
    canApprove: ['admin', 'senior_supervisor', 'supervisor'].includes(user.role),
    canViewRanking: ['admin', 'senior_supervisor'].includes(user.role),
    canManageUsers: user.role === 'admin',
    canViewAllPasswords: user.role === 'admin',
    isAdmin: user.role === 'admin',
    isSeniorSupervisor: user.role === 'senior_supervisor',
    isSupervisor: user.role === 'supervisor',
    isStaff: user.role === 'staff',
  };
}

// ä½¿ç”¨ç¯„ä¾‹
function AdminPanel() {
  const { canManageUsers, canViewRanking } = usePermission();
  
  return (
    <div>
      {canManageUsers && <UserManagement />}
      {canViewRanking && <PerformanceRanking />}
    </div>
  );
}
```

### 3. è·¯ç”±æ¬Šé™ä¿è­·

```typescript
// App.tsx
<Route path="/admin" element={
  <ProtectedRoute requiredRole={['admin']}>
    <AdminDashboard />
  </ProtectedRoute>
} />

<Route path="/approval" element={
  <ProtectedRoute requiredRole={['admin', 'senior_supervisor', 'supervisor']}>
    <ApprovalPage />
  </ProtectedRoute>
} />

<Route path="/performance/ranking" element={
  <ProtectedRoute requiredRole={['admin', 'senior_supervisor']}>
    <PerformanceRanking />
  </ProtectedRoute>
} />
```

---

## ğŸ“± é é¢æ¬Šé™å°ç…§

| é é¢è·¯å¾‘ | é é¢åç¨± | ç®¡ç†å“¡ | é«˜éšä¸»ç®¡ | ä¸€èˆ¬ä¸»ç®¡ | å“¡å·¥ |
|---------|---------|--------|---------|---------|------|
| `/` | é¦–é  | âœ… | âœ… | âœ… | âœ… |
| `/login` | ç™»å…¥ | âœ… | âœ… | âœ… | âœ… |
| `/attendance` | å“¡å·¥æ‰“å¡ | âœ… | âœ… | âœ… | âœ… |
| `/leave` | è«‹å‡ç”³è«‹ | âœ… | âœ… | âœ… | âœ… |
| `/profile` | å€‹äººè³‡æ–™ | âœ… | âœ… | âœ… | âœ… |
| | | | | | |
| `/approval` | å¯©æ ¸ç®¡ç† | âœ… | âœ… | âœ… | âŒ |
| `/doctor-schedule` | é†«å¸«æ’ç­ | âœ… | âœ… | âœ… | âŒ |
| `/schedule` | å“¡å·¥æ’ç­ | âœ… | âœ… | âœ… | âŒ |
| `/leave-calendar` | ä¼‘å‡æœˆæ›† | âœ… | âœ… | âœ… | âŒ |
| `/reports` | å ±è¡¨åŒ¯å‡º | âœ… | âœ… | âœ… | âŒ |
| `/finance` | è²¡å‹™å ±è¡¨ | âœ… | âœ… | âœ… | âŒ |
| | | | | | |
| `/performance/ranking` | æ¥­ç¸¾æ’å | âœ… | âœ… | âŒ | âŒ |
| `/attendance/all` | æ‰€æœ‰å‡ºå‹¤è¨˜éŒ„ | âœ… | âœ… | âŒ | âŒ |
| | | | | | |
| `/admin` | ç®¡ç†è€…ä¸»æ§å° | âœ… | âŒ | âŒ | âŒ |
| `/admin/users` | ä½¿ç”¨è€…ç®¡ç† | âœ… | âŒ | âŒ | âŒ |
| `/admin/passwords` | å¯†ç¢¼ç®¡ç† | âœ… | âŒ | âŒ | âŒ |
| `/admin/settings` | ç³»çµ±è¨­å®š | âœ… | âŒ | âŒ | âŒ |

---

## ğŸ§ª æ¸¬è©¦æ¸…å–®

### ç®¡ç†å“¡æ¸¬è©¦
- [ ] ç™»å…¥æˆåŠŸ
- [ ] å¯ä»¥æŸ¥çœ‹æ‰€æœ‰é é¢
- [ ] å¯ä»¥ç®¡ç†ä½¿ç”¨è€…
- [ ] å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¯†ç¢¼
- [ ] å¯ä»¥ä¿®æ”¹å…¶ä»–äººå¯†ç¢¼
- [ ] å¯ä»¥æŸ¥çœ‹æ¥­ç¸¾æ’å
- [ ] å¯ä»¥å¯©æ ¸æ‰“å¡å’Œè«‹å‡

### é«˜éšä¸»ç®¡æ¸¬è©¦
- [ ] ç™»å…¥æˆåŠŸ
- [ ] å¯ä»¥æŸ¥çœ‹å¤§éƒ¨åˆ†é é¢
- [ ] å¯ä»¥å¯©æ ¸æ‰“å¡å’Œè«‹å‡
- [ ] å¯ä»¥æŸ¥çœ‹æ¥­ç¸¾æ’å
- [ ] å¯ä»¥åŒ¯å‡ºå ±è¡¨
- [ ] ä¸èƒ½æŸ¥çœ‹æ‰€æœ‰å¯†ç¢¼
- [ ] ä¸èƒ½ä¿®æ”¹å…¶ä»–äººå¯†ç¢¼
- [ ] ä¸èƒ½é€²å…¥ç®¡ç†è€…ä¸»æ§å°

### ä¸€èˆ¬ä¸»ç®¡æ¸¬è©¦
- [ ] ç™»å…¥æˆåŠŸ
- [ ] å¯ä»¥å¯©æ ¸æ‰“å¡å’Œè«‹å‡
- [ ] å¯ä»¥ç®¡ç†æ’ç­
- [ ] å¯ä»¥åŒ¯å‡ºå ±è¡¨
- [ ] ä¸èƒ½æŸ¥çœ‹æ¥­ç¸¾æ’å
- [ ] ä¸èƒ½æŸ¥çœ‹æ‰€æœ‰å¯†ç¢¼
- [ ] ä¸èƒ½é€²å…¥ç®¡ç†è€…ä¸»æ§å°

### å“¡å·¥æ¸¬è©¦
- [ ] ç™»å…¥æˆåŠŸ
- [ ] å¯ä»¥æ‰“å¡
- [ ] å¯ä»¥è«‹å‡
- [ ] å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„å‡ºå‹¤
- [ ] å¯ä»¥æŸ¥çœ‹å€‹äººæ¥­ç¸¾
- [ ] ä¸èƒ½å¯©æ ¸
- [ ] ä¸èƒ½æŸ¥çœ‹å…¶ä»–äººè³‡æ–™
- [ ] ä¸èƒ½é€²å…¥ç®¡ç†é é¢

---

## ğŸ“ å¯†ç¢¼æ”¿ç­–

### å¯†ç¢¼æ ¼å¼
- æ ¼å¼: `Role@ID2025`
- ç¯„ä¾‹:
  - ç®¡ç†å“¡: `Admin@HBH2025`
  - é«˜éšä¸»ç®¡: `Super@LDX2025`
  - ä¸€èˆ¬ä¸»ç®¡: `Super@WQ2025`
  - å“¡å·¥: `Staff@LZX2025`

### å¯†ç¢¼ä¿®æ”¹
- âœ… æ‰€æœ‰ä½¿ç”¨è€…å¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç¢¼
- âœ… ç®¡ç†å“¡å¯ä»¥ä¿®æ”¹æ‰€æœ‰äººçš„å¯†ç¢¼
- âŒ å…¶ä»–è§’è‰²ä¸èƒ½ä¿®æ”¹åˆ¥äººçš„å¯†ç¢¼

### å¯†ç¢¼å®‰å…¨
- å»ºè­°é¦–æ¬¡ç™»å…¥å¾Œä¿®æ”¹å¯†ç¢¼
- å®šæœŸæ›´æ›å¯†ç¢¼(æ¯3å€‹æœˆ)
- ä¸è¦èˆ‡ä»–äººåˆ†äº«å¯†ç¢¼

---

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

1. **åŸ·è¡Œ SQL è…³æœ¬**
   ```sql
   \i create_all_users.sql
   ```

2. **æ¸¬è©¦æ‰€æœ‰å¸³è™Ÿ**
   - é€ä¸€æ¸¬è©¦ 16 å€‹å¸³è™Ÿç™»å…¥
   - ç¢ºèªæ¬Šé™æ­£ç¢º

3. **æ›´æ–°å‰ç«¯æ¬Šé™æª¢æŸ¥**
   - å¯¦ä½œ `usePermission` Hook
   - æ›´æ–°æ‰€æœ‰é é¢çš„æ¬Šé™æª¢æŸ¥

4. **éƒ¨ç½²åˆ°æ­£å¼ç’°å¢ƒ**
   - æ¨é€åˆ° GitHub
   - Netlify è‡ªå‹•éƒ¨ç½²

---

## ğŸ“ è¯çµ¡è³‡è¨Š

å¦‚æœ‰æ¬Šé™ç›¸é—œå•é¡Œ,è«‹è¯çµ¡:
- **ç³»çµ±ç®¡ç†å“¡**: é»ƒæŸç¿° (ADMIN-HBH012)
